[package]
name = "netcorehost"
version = "0.7.2"
description = "A Rust library for hosting .NET Core applications."
readme = "README.md"
repository = "https://github.com/OpenByteDev/netcorehost"
documentation = "https://docs.rs/netcorehost"
license = "MIT"
authors = ["OpenByte <development.openbyte@gmail.com>"]
edition = "2018"
categories = ["api-bindings", "external-ffi-bindings"]
keywords = ["nethost", "hostfxr", "dotnet", "bindings", "coreclr"]

[dependencies]
num_enum = "0.5"
thiserror = "1.0"
derive_more = { version = "0.99", default-features = false, features = ["deref", "from", "display"] }
nethost-sys = { version = "0.2", optional = true, default-features = false }
hostfxr-sys = "0.1"
coreclr-hosting-shared = "0.1"
destruct-drop = "0.1.0"

[target.'cfg(windows)'.dependencies]
widestring = "0.4"
u16cstr = "0.2"

[target.'cfg(not(windows))'.dependencies]
cstr = "0.2"

[dev-dependencies]
trybuild = "1.0"
platforms = "1.1"
glob = "0.3"
widestring = "0.4"

[features]
default = ["nethost", "nethost-download"]
nethost-download = ["nethost-sys/download-nuget"]
nethost = ["nethost-sys"]

# Prevent downloading nethost lib when building docs on docs.rs.
[package.metadata.docs.rs]
features = ["nethost"]
no-default-features = true
