[package]
name = "netcorehost"
version = "0.8.0"
description = "A Rust library for hosting the .NET Core runtime."
readme = "README.md"
repository = "https://github.com/OpenByteDev/netcorehost"
documentation = "https://docs.rs/netcorehost"
license = "MIT"
authors = ["OpenByte <development.openbyte@gmail.com>"]
edition = "2021"
categories = ["api-bindings", "external-ffi-bindings"]
keywords = ["nethost", "hostfxr", "dotnet", "bindings", "coreclr"]

[dependencies]
num_enum = "0.5"
thiserror = "1.0"
derive_more = { version = "0.99", default-features = false, features = ["deref", "from", "display"] }
nethost-sys = { version = "0.2.3", optional = true, default-features = false }
hostfxr-sys = "0.1.3"
coreclr-hosting-shared = "0.1.2"
destruct-drop = "0.1"

[target.'cfg(windows)'.dependencies]
widestring = "0.5"
u16cstr = "0.3"

[target.'cfg(not(windows))'.dependencies]
cstr = "0.2"

[dev-dependencies]
trybuild = "1.0"
platforms = "2.0"
glob = "0.3"
widestring = "0.5"

[features]
default = ["nethost", "nethost-download"]
nethost-download = ["nethost-sys/download-nuget"]
nethost = ["nethost-sys"]
nightly = []

# Prevent downloading nethost library when building on docs.rs.
[package.metadata.docs.rs]
features = ["nethost"]
no-default-features = true
